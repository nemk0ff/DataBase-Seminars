CREATE TABLE games (
    game_id SERIAL PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    release_year INT,
    parent_game_id INT REFERENCES games(game_id),
    relation_type VARCHAR(20) CHECK (relation_type IN ('сиквел', 'приквел', 'спин-офф', 'ремейк', 'DLC'))
);


INSERT INTO games (game_id, title, release_year, parent_game_id, relation_type) VALUES
(1, 'Call of Duty', 2003, NULL, NULL),
(2, 'Call of Duty 2', 2005, 1, 'сиквел'),
(3, 'Call of Duty 3', 2006, 2, 'сиквел'),
(4, 'Call of Duty: Finest Hour', 2004, 2, 'DLC'),
(5, 'Call of Duty 4: Modern Warfare', 2007, NULL, NULL),
(6, 'Call of Duty: Modern Warfare 2', 2009, 5, 'сиквел'),
(7, 'Call of Duty: Modern Warfare 3', 2011, 6, 'сиквел'),
(8, 'Final Fantasy VII', 1997, NULL, 'сиквел'),
(9, 'Final Fantasy VII Remake', 2020, 8, 'ремейк'),
(10, 'Final Fantasy X', 2001, NULL, 'сиквел'),
(11, 'Final Fantasy XIV', 2010, NULL, 'сиквел'),
(12, 'Final Fantasy XIV: A Realm Reborn', 2013, 11, 'ремейк'),
(13, 'Final Fantasy XV', 2016, 11, 'сиквел'),
(14, 'Minecraft', 2011, NULL, NULL),
(15, 'Minecraft: Dungeons', 2020, 14, 'спин-офф'),
(16, 'Red Dead Redemption', 2010, NULL, NULL),
(17, 'Red Dead Redemption 2', 2018, 16, 'сиквел'),
(18, 'Halo: Combat Evolved', 2001, NULL, NULL),
(19, 'Halo 2', 2004, 18, 'сиквел'),
(20, 'Halo 3', 2007, 19, 'сиквел'),
(21, 'Halo Wars', 2009, 18, 'спин-офф'),
(22, 'Resident Evil 0', 2002, 24, 'приквел'),
(23, 'Resident Evil', 1996, NULL, NULL),
(24, 'Resident Evil 2', 1998, 23, 'сиквел'),
(25, 'Resident Evil 2 (Remake)', 2019, 24, 'ремейк'),
(26, 'Resident Evil 3: Nemesis', 1999, 24, 'сиквел'),
(27, 'Resident Evil 3 (Remake)', 2020, 26, 'ремейк'),
(28, 'Resident Evil 4', 2005, 26, 'сиквел'),
(29, 'Resident Evil 4 (Remake)', 2023, 28, 'ремейк'),
(30, 'Resident Evil 5', 2009, 28, 'сиквел'),
(31, 'Resident Evil 6', 2012, 30, 'сиквел'),
(32, 'Resident Evil 7: Biohazard', 2017, 31, 'сиквел'),
(33, 'Resident Evil: Operation Raccoon City', 2012, 24, 'спин-офф'),
(34, 'Resident Evil Revelations', 2012, 30, 'спин-офф'),
(35, 'Resident Evil Revelations 2', 2015, 30, 'спин-офф'),
(36, 'Resident Evil: The Darkside Chronicles', 2009, 24, 'спин-офф'),
(37, 'Resident Evil: The Umbrella Chronicles', 2007, 22, 'спин-офф'),
(38, 'Resident Evil Village', 2021, 32, 'сиквел'),
(39, 'The Witcher', 2007, NULL, NULL),
(40, 'The Witcher 2: Assassins of Kings', 2011, 39, 'сиквел'),
(41, 'The Witcher 3: Wild Hunt', 2015, 40, 'сиквел'),
(42, 'The Witcher 3: Wild Hunt - Blood and Wine', 2016, 40, 'DLC'),
(43, 'The Witcher 3: Wild Hunt - Hearts of Stone', 2015, 40, 'DLC'),
(44, 'The Elder Scrolls V: Skyrim', 2011, NULL, NULL),
(45, 'The Elder Scrolls V: Skyrim Special Edition', 2016, 44, 'ремейк'),
(46, 'The Legend of Zelda: Ocarina of Time', 1998, NULL, NULL),
(47, 'The Legend of Zelda: Majora''s Mask', 2000, 46, 'приквел'),
(48, 'The Legend of Zelda: Breath of the Wild', 2017, 46, 'сиквел'),
(49, 'The Legend of Zelda: Tears of the Kingdom', 2023, 47, 'сиквел');


